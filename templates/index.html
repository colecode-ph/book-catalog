{% extends 'bootstrap/base.html' %}

{% block navbar %}
<div class="navbar navbar-default">
    <div class='container'>
        <a href="{{url_for('indexPage') }}"><h1><span class="glyphicon glyphicon-book"></span>  Book Catalog 2017</h1></a>
    </div>
</div>
{% endblock %}


{% block content %}
<div class='container'>

    <div class='row'>
        <div class='col-md-6'>
            <h2>List of Categories</h2>
            <p><a href="{{ url_for('createCategory') }}">create new category</a></p>

            <table class='table table-striped table-condensed'>
            {% for category in categories %}
                <tr><td><a href="{{ url_for('listBooks', category_id = category.id) }}">{{ category.name }}</a></td><td><a href="{{ url_for('editCategory', category_id = category.id) }}"> Edit</a></td><td><a href="{{ url_for('deleteCategory', category_id = category.id) }}"> Delete</a></td></tr>

            {% endfor %}
            </table>
        </div>
        <div class='col-md-6'>
            <h2>List of Books</h2>
            <p><a href="{{ url_for('createBook') }}">create new book</a></p>

            <table class='table table-striped table-condensed'>
            <th>Title</th><th>Author</th><th>Category</th>
            {% for book in books %}

                <tr><td><a href="{{ url_for('singleBook', book_id = book.id) }}">{{ book.title }}</a></td><td>{{ book.author }}</td>

                {% for category in categories %}
                    {%  if category.id == book.category_id %}
                        <td>{{ category.name }}</td>
                    {% endif %}
                {% endfor %}

                <td><a href="{{ url_for('editBook', book_id = book.id) }}">Edit</a></td><td><a href="{{ url_for('deleteBook', book_id = book.id) }}">Delete</a></td></tr>

            {% endfor %}
            </table>
        </div>
    </div>
</div>
{% endblock %}
